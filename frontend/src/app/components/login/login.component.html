<div class="login-page">
  <div class="login-container">
    <!-- Left Side: Image/Brand -->
    <div class="login-image-section">
      <div class="brand-overlay">
        <h1>Welcome Back!</h1>
        <p>Sign in to access your personalized eyewear collection.</p>
      </div>
    </div>

    <!-- Right Side: Form -->
    <div class="login-form-section">
      <div class="form-wrapper">
        <h2>Login</h2>
        <p class="subtitle">Please enter your details</p>

        <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="login-form">
          <div *ngIf="!isOtpLogin">
            <div class="form-group">
              <label for="username">Username</label>
              <div class="input-wrapper">
                <i class="bi bi-person icon"></i>
                <input type="text" id="username" name="username" [(ngModel)]="username" required autocomplete="username"
                  placeholder="Enter your username">
              </div>
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <div class="input-wrapper">
                <i class="bi bi-lock icon"></i>
                <input type="password" id="password" name="password" [(ngModel)]="password" required
                  autocomplete="current-password" placeholder="Enter your password">
              </div>
            </div>
          </div>

          <div *ngIf="isOtpLogin">
            <div class="form-group">
              <label for="email">Email Address</label>
              <div class="input-wrapper">
                <i class="bi bi-envelope icon"></i>
                <input type="email" id="email" name="email" [(ngModel)]="email" required placeholder="Enter your email"
                  [disabled]="otpSent">
              </div>
            </div>

            <div class="form-group" *ngIf="otpSent">
              <label for="otp">OTP Code</label>
              <div class="input-wrapper">
                <i class="bi bi-key icon"></i>
                <input type="text" id="otp" name="otp" [(ngModel)]="otp" required placeholder="Enter 6-digit OTP">
              </div>
            </div>
          </div>

          <div *ngIf="error" class="error-message">
            {{ error }}
          </div>

          <button type="submit" class="btn-login" [disabled]="loginForm.invalid">
            {{ isOtpLogin ? (otpSent ? 'Verify OTP' : 'Send OTP') : 'Sign In' }}
          </button>

          <div class="text-center mt-3">
            <a href="javascript:void(0)" (click)="toggleLoginMode()"
              style="color: #3b82f6; text-decoration: none; font-size: 0.9rem;">
              {{ isOtpLogin ? 'Login with Password' : 'Login with OTP' }}
            </a>
          </div>

          <div class="form-footer">
            <p>Don't have an account? <a routerLink="/register">Sign up for free</a></p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>