<div class="product-upload">
  <a routerLink="../list" class="back-link">‚Üê Back to Products</a>
  <h2>Upload New Product</h2>

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" [class.loading]="loading">
    <div class="form-group">
      <label for="name">Product Name *</label>
      <input type="text" id="name" formControlName="name">
      <div class="field-error" *ngIf="productForm.get('name')?.touched && productForm.get('name')?.invalid">
        Product name is required
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description *</label>
      <textarea id="description" formControlName="description"></textarea>
      <div class="field-error" *ngIf="productForm.get('description')?.touched && productForm.get('description')?.invalid">
        Description is required
      </div>
    </div>

    <div class="form-group">
      <label for="price">Price *</label>
      <input type="number" id="price" formControlName="price" min="0" step="0.01">
      <div class="field-error" *ngIf="productForm.get('price')?.touched && productForm.get('price')?.invalid">
        Please enter a valid price
      </div>
    </div>

    <div class="form-group">
      <label for="category">Category *</label>
      <select id="category" formControlName="category">
        <option value="">Select Category</option>
        <option value="EYEGLASSES">Eyeglasses</option>
        <option value="SUNGLASSES">Sunglasses</option>
        <option value="CONTACT_LENSES">Contact Lenses</option>
      </select>
      <div class="field-error" *ngIf="productForm.get('category')?.touched && productForm.get('category')?.invalid">
        Please select a category
      </div>
    </div>

    <div class="form-group">
      <label for="brand">Brand</label>
      <input type="text" id="brand" formControlName="brand">
    </div>

    <div class="form-group">
      <label for="frameType">Frame Type</label>
      <input type="text" id="frameType" formControlName="frameType">
    </div>

    <div class="form-group">
      <label for="frameShape">Frame Shape</label>
      <input type="text" id="frameShape" formControlName="frameShape">
    </div>

    <div class="form-group">
      <label for="material">Material</label>
      <input type="text" id="material" formControlName="material">
    </div>

    <div class="form-group">
      <label for="color">Color</label>
      <input type="text" id="color" formControlName="color">
    </div>

    <div class="form-group">
      <label for="stockQuantity">Stock Quantity *</label>
      <input type="number" id="stockQuantity" formControlName="stockQuantity" min="0">
      <div class="field-error" *ngIf="productForm.get('stockQuantity')?.touched && productForm.get('stockQuantity')?.invalid">
        Please enter a valid quantity
      </div>
    </div>

    <div class="form-group">
      <label for="image">Product Image</label>
      <input type="file" id="image" (change)="onImageSelect($event)" accept="image/*">
    </div>

    <div class="image-preview" *ngIf="previewUrl">
      <img [src]="previewUrl" alt="Preview">
    </div>

    <div class="error" *ngIf="error">{{ error }}</div>

    <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid || loading">
      {{ loading ? 'Uploading...' : 'Upload Product' }}
    </button>
  </form>
</div>